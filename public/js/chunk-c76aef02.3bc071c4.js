(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c76aef02"],{"0af4":function(t,s,a){"use strict";var e=a("5833"),i=a.n(e);i.a},5833:function(t,s,a){},"8fff":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"mt-5 lk-list"},[a("h5",{staticClass:"text-primary mb-5",class:{"d-none":!t.objectBlockWidth},style:{paddingLeft:t.objectBlockWidth+"px"}},[t._v("Управление каталогом")]),a("div",{staticClass:"row mb-5",style:{maxWidth:t.maxWidth+"px"}},[a("div",{staticClass:"col"},[t.objects.length?a("table",{staticClass:"table table-hover m-0 sticky-thead"},[a("thead",{staticClass:"thead-light"},[a("tr",[a("th",{staticClass:"pl-4",attrs:{scope:"col"}},[t._v("Дата")]),a("th",{attrs:{scope:"col"}},[t._v("Лот")]),a("th",{attrs:{scope:"col"}},[t._v("Субъект")]),a("th",{attrs:{scope:"col"}},[t._v("Адрес")]),"ZU"===t.currentCategorySlug?[a("th",{attrs:{scope:"col"}},[t._v("Тип")]),a("th",{attrs:{scope:"col"}},[t._v("S ЗУ")]),a("th",{attrs:{scope:"col"}},[t._v("S ОКС")]),a("th",{attrs:{scope:"col"}},[t._v("Назначение")]),a("th",{attrs:{scope:"col"}},[t._v("ГПЗУ")])]:t._e(),"Invest"===t.currentCategorySlug?[a("th",{attrs:{scope:"col"}},[t._v("Тип")]),a("th",{attrs:{scope:"col"}},[t._v("S")]),a("th",{attrs:{scope:"col"}},[t._v("ГАП, Р.")]),a("th",{attrs:{scope:"col"}},[t._v("Caprate")])]:t._e(),a("th",{attrs:{scope:"col"}},[t._v("Стоимость, Р.")]),a("th",{attrs:{scope:"col"}},[t._v("Ответственный")]),a("th",{attrs:{scope:"col"}},[t._v("Действия")])],2)]),a("tbody",t._l(t.objects,function(s){return a("tr",{key:s.id,staticClass:"bg-white"},[a("td",{staticClass:"align-middle pl-4"},[t._v(t._s(t.moment(s.updated_at).format("DD.MM.YYYY")))]),a("td",{staticClass:"align-middle"},[t._v(t._s(s.id))]),a("td",{staticClass:"align-middle"},[t._v(t._s(s.district))]),a("td",{staticClass:"align-middle"},[t._v(t._s(s.address))]),"ZU"===t.currentCategorySlug?[a("td",{staticClass:"align-middle text-nowrap"},[t._v(t._s(s.ZUType))]),a("td",{staticClass:"align-middle text-nowrap"},[t._v(t._s(s.groundS))]),a("td",{staticClass:"align-middle text-nowrap",domProps:{innerHTML:t._s(s.areaS)}}),a("td",{staticClass:"align-middle"},[t._v("\n                "+t._s("ZU"===s.ZUType?s.purposeZU:s.purposeOKS)+"\n              ")]),a("td",{staticClass:"align-middle"},[t._v(t._s(s.groundPlan?"Есть":"Нет"))])]:t._e(),"Invest"===t.currentCategorySlug?[a("td",{staticClass:"align-middle"},[t._v(t._s(s.buildingType.short))]),a("td",{staticClass:"align-middle text-nowrap",domProps:{innerHTML:t._s(s.areaS)}}),a("td",{staticClass:"align-middle text-nowrap"},[t._v(t._s(s.GAP))]),a("td",{staticClass:"align-middle"},[t._v(t._s(s.caprate+"%"))])]:t._e(),a("td",{staticClass:"align-middle text-nowrap"},[t._v(t._s(s.cost))]),a("td",{staticClass:"align-middle"},[t._v(t._s(s.responsible))]),a("td",{staticClass:"align-middle text-nowrap"},[a("router-link",{staticClass:"btn btn-outline-primary btn-sm mr-1",attrs:{title:"редактировать",to:{name:"lk-object",params:{id:s.id}}}},[a("i",{staticClass:"fa fa-pencil"})]),a("router-link",{staticClass:"btn btn-outline-secondary btn-sm mr-1",attrs:{title:"клонировать",to:{name:"lk-object",params:{id:"clone",clone_id:s.id}}}},[a("i",{staticClass:"fa fa-clone"})]),a("button",{staticClass:"btn btn-outline-danger btn-sm mr-1",attrs:{title:"удалить",type:"button"},on:{click:function(a){return a.preventDefault(),t.removeObject(s.id)}}},[a("i",{staticClass:"fa fa-trash"})])],1)],2)}),0)]):t._e()])])])},i=[],n=a("c1df"),c=a.n(n),l=a("c988"),o=a("25be"),r={name:"LKList",data:function(){return{moment:c.a}},mounted:function(){this.$store.commit("getAllInitData")},computed:{objectBlockWidth:function(){return this.$store.state.objectBlockWidth},maxWidth:function(){return window.innerWidth-this.$store.state.filterWidth},objects:function(){return this.$store.getters.objectsForCurrentCategory},currentCategorySlug:function(){return this.$store.state.currentCategorySlug}},methods:{removeObject:function(t){var s=this;window.confirm("Будет удалена вся информация об объекте и все его файлы. Удалить объект?")&&o["b"].post("/objects/".concat(t),null,{params:{_method:"DELETE"}}).then(function(){l["a"].success("Объект успешно удален"),s.$store.commit("removeObject",t)}).catch(function(){l["a"].warning("Что пошло не так, перегрузите страницу")})}}},d=r,u=(a("0af4"),a("2877")),m=Object(u["a"])(d,e,i,!1,null,null,null);s["default"]=m.exports}}]);